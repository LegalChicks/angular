import{a as N}from"./chunk-IFXYSEVV.js";import{d as k,e as T}from"./chunk-2XNMIXXB.js";import{a as V,b as F,c as d,d as P,e as A,g as L,j as R,k as q,p as D,q as G,s as H}from"./chunk-3OKHU5GT.js";import{$ as u,$a as S,Ha as C,Kb as M,Qa as g,Ra as f,T as x,Ua as y,Va as t,Wa as e,Xa as l,Y as v,Z as w,_ as m,ab as E,cb as h,fa as b,jb as r,lb as _,ua as s}from"./chunk-U6YQNLS5.js";function j(i,o){i&1&&(t(0,"p",25),r(1,"Passwords do not match."),e())}function z(i,o){if(i&1&&(t(0,"div",33),r(1),e()),i&2){let n=h(2);s(),_(" ",n.errorMessage()," ")}}function B(i,o){i&1&&(m(),t(0,"svg",35),l(1,"circle",36)(2,"path",37),e(),r(3," Creating Account... "))}function W(i,o){i&1&&r(0," Join Our Cooperative ")}function J(i,o){if(i&1){let n=S();t(0,"div")(1,"div",5)(2,"h1",6),r(3,"Magsimula Tayo: Your Journey Begins"),e(),t(4,"p",7),r(5,"Join the LCEN cooperative and build a sustainable livelihood with a network that ensures your success."),e()(),t(6,"div",8)(7,"h3",9),r(8,"As an LCEN Member-Partner, you receive:"),e(),t(9,"ul",10)(10,"li",11),m(),t(11,"svg",12),l(12,"path",13),e(),u(),t(13,"span")(14,"strong"),r(15,"'Guided Business Warranty':"),e(),r(16," Personal mentorship from day one until your first harvest. "),t(17,"span",14),r(18,"Hindi ka nag-iisa."),e()()(),t(19,"li",11),m(),t(20,"svg",12),l(21,"path",13),e(),u(),t(22,"span")(23,"strong"),r(24,"Premium Supply Access:"),e(),r(25," Exclusive member discounts on pure RIR chicks and high-quality feeds."),e()(),t(26,"li",11),m(),t(27,"svg",12),l(28,"path",13),e(),u(),t(29,"span")(30,"strong"),r(31,"Collective Market Power:"),e(),r(32," We combine our harvest to get better prices. You farm, we find the buyers."),e()(),t(33,"li",11),m(),t(34,"svg",12),l(35,"path",13),e(),u(),t(36,"span")(37,"strong"),r(38,"TESDA NC II Opportunities:"),e(),r(39," Earn nationally recognized certifications to formalize your skills."),e()()()(),t(40,"form",15),E("ngSubmit",function(){v(n);let p=h();return w(p.onSubmit())}),t(41,"div",16)(42,"div")(43,"label",17),r(44,"Full Name"),e(),l(45,"input",18),e(),t(46,"div")(47,"label",19),r(48,"Email address"),e(),l(49,"input",20),e(),t(50,"div")(51,"label",21),r(52,"Password"),e(),l(53,"input",22),e(),t(54,"div")(55,"label",23),r(56,"Confirm Password"),e(),l(57,"input",24),e(),g(58,j,2,0,"p",25),e(),t(59,"div",26)(60,"div",11)(61,"div",27),l(62,"input",28),e(),t(63,"div",29)(64,"label",30),r(65,"Our Cooperative Pledge:"),e(),t(66,"p",31),r(67,"I commit to the LCEN values of community and transparency, and will maintain the highest farm quality standards."),e()()(),t(68,"p",32),r(69," Your data will be used exclusively for LCEN membership purposes and to connect you with livelihood support programs. We respect your privacy. "),e()(),g(70,z,2,1,"div",33),t(71,"div")(72,"button",34),g(73,B,4,0)(74,W,1,0),e()()()()}if(i&2){let n,a=h();s(40),y("formGroup",a.registerForm),s(18),f(a.registerForm.hasError("passwordMismatch")&&((n=a.registerForm.get("confirmPassword"))!=null&&n.touched)?58:-1),s(12),f(a.errorMessage()?70:-1),s(2),y("disabled",a.loading()||a.registerForm.invalid),s(),f(a.loading()?73:74)}}function O(i,o){i&1&&(t(0,"div",2)(1,"div",38),m(),t(2,"svg",39),l(3,"path",40),e()(),u(),t(4,"h3",41),r(5,"Welcome to the Flock!"),e(),t(6,"div",42)(7,"p"),r(8,"A verification link is on its way to your inbox. Please click it to activate your member portal and begin your journey with us."),e()()())}var Y=i=>{let o=i.get("password"),n=i.get("confirmPassword");return o&&n&&o.value!==n.value?{passwordMismatch:!0}:null},c=class c{constructor(){this.authService=x(N);this.router=x(k);this.fb=x(G);this.loading=b(!1);this.errorMessage=b(null);this.successMessage=b(null);this.registerForm=this.fb.group({name:["",[d.required]],email:["",[d.required,d.email]],password:["",[d.required,d.minLength(8)]],confirmPassword:["",[d.required]],agreeToTerms:[!1,[d.requiredTrue]]},{validators:Y})}async onSubmit(){if(this.registerForm.markAllAsTouched(),this.registerForm.invalid){this.errorMessage.set("Please correct the errors before submitting.");return}this.loading.set(!0),this.errorMessage.set(null),this.successMessage.set(null);let{name:o,email:n,password:a}=this.registerForm.value,p=await this.authService.register(o,n,a);p.success?(this.successMessage.set(p.message),this.registerForm.reset()):this.errorMessage.set(p.message),this.loading.set(!1)}};c.\u0275fac=function(n){return new(n||c)},c.\u0275cmp=C({type:c,selectors:[["app-register"]],decls:7,vars:1,consts:[[1,"flex","items-center","justify-center","min-h-screen","bg-gray-100","py-12"],[1,"w-full","max-w-2xl","p-8","space-y-8","bg-white","rounded-lg","shadow-2xl"],[1,"p-4","text-center"],[1,"text-sm","text-center"],["routerLink","/login",1,"font-medium","text-brand-purple","hover:text-brand-purple-dark"],[1,"text-center"],[1,"text-4xl","font-bold","tracking-tight","text-brand-purple"],[1,"mt-2","text-lg","text-gray-600"],[1,"mt-8","p-6","bg-purple-50","rounded-lg","border","border-purple-200"],[1,"font-semibold","text-brand-purple-dark"],[1,"mt-4","space-y-3","text-gray-700"],[1,"flex","items-start"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","mr-2","text-brand-gold","flex-shrink-0"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"italic","text-gray-500"],[1,"mt-8","space-y-6",3,"ngSubmit","formGroup"],[1,"rounded-md","shadow-sm","space-y-4"],["for","name",1,"sr-only"],["id","name","type","text","formControlName","name","required","","placeholder","Full Name",1,"appearance-none","rounded-md","relative","block","w-full","px-3","py-3","border","border-gray-300","placeholder-gray-500","text-gray-900","focus:outline-none","focus:ring-brand-purple","focus:border-brand-purple","sm:text-sm"],["for","email-address",1,"sr-only"],["id","email-address","type","email","formControlName","email","required","","placeholder","Email address",1,"appearance-none","rounded-md","relative","block","w-full","px-3","py-3","border","border-gray-300","placeholder-gray-500","text-gray-900","focus:outline-none","focus:ring-brand-purple","focus:border-brand-purple","sm:text-sm"],["for","password",1,"sr-only"],["id","password","type","password","formControlName","password","required","","placeholder","Password (min. 8 characters)",1,"appearance-none","rounded-md","relative","block","w-full","px-3","py-3","border","border-gray-300","placeholder-gray-500","text-gray-900","focus:outline-none","focus:ring-brand-purple","focus:border-brand-purple","sm:text-sm"],["for","confirm-password",1,"sr-only"],["id","confirm-password","type","password","formControlName","confirmPassword","required","","placeholder","Confirm Password",1,"appearance-none","rounded-md","relative","block","w-full","px-3","py-3","border","border-gray-300","placeholder-gray-500","text-gray-900","focus:outline-none","focus:ring-brand-purple","focus:border-brand-purple","sm:text-sm"],[1,"text-xs","text-red-600"],[1,"space-y-4"],[1,"flex","items-center","h-5"],["id","agreeToTerms","formControlName","agreeToTerms","type","checkbox",1,"focus:ring-brand-purple","h-4","w-4","text-brand-purple","border-gray-300","rounded"],[1,"ml-3","text-sm"],["for","agreeToTerms",1,"text-gray-700","font-medium"],[1,"text-gray-600"],[1,"text-xs","text-gray-500"],[1,"p-3","text-sm","text-red-700","bg-red-100","rounded-md"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-3","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-brand-purple","hover:bg-brand-purple-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-brand-purple-dark","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"mx-auto","flex","items-center","justify-center","h-12","w-12","rounded-full","bg-green-100"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"mt-4","text-2xl","font-semibold","text-gray-900"],[1,"mt-2","text-gray-600"]],template:function(n,a){n&1&&(t(0,"div",0)(1,"div",1),g(2,J,75,5,"div")(3,O,9,0,"div",2),t(4,"div",3)(5,"a",4),r(6," Already a member? Sign In "),e()()()()),n&2&&(s(2),f(a.successMessage()?3:2))},dependencies:[M,T,H,L,F,V,P,A,D,R,q],encapsulation:2,changeDetection:0});var I=c;export{I as RegisterComponent,Y as passwordMatchValidator};
