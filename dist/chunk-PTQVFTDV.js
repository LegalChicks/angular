import{$ as g,B as E,C as v,Ha as w,Kb as R,O as h,Pa as S,Qa as k,Ra as C,Sa as D,T as b,Ta as M,Ya as t,Za as a,_ as p,_a as x,cb as F,fa as f,gb as A,hb as Y,jb as n,kb as s,l as u,lb as I,ua as o,xb as _}from"./chunk-U6YQNLS5.js";var d=class d{generateAnalyticsData(){return{eggYieldForecast:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(l=>({day:l,predictedYield:Math.floor(Math.random()*26)+110})),feedEfficiencyScore:parseFloat((Math.random()*15+80).toFixed(2)),mortalityRisk:{level:"Low",reason:"Flock health metrics are stable. Weather conditions are optimal. No immediate concerns detected."}}}getAnalytics(){return u(this.generateAnalyticsData()).pipe(E(1e3))}};d.\u0275fac=function(e){return new(e||d)},d.\u0275prov=h({token:d,factory:d.\u0275fac,providedIn:"root"});var c=d;var H=(r,i)=>i.day;function P(r,i){r&1&&(t(0,"div",3)(1,"div",6),p(),t(2,"svg",7),x(3,"circle",8)(4,"path",9),a(),g(),t(5,"p",10),n(6,"Analyzing your farm data..."),a()()())}function j(r,i){if(r&1&&(t(0,"div",15)(1,"div",29)(2,"div",30)(3,"div",31)(4,"span",32),n(5),a()()()(),t(6,"span",33),n(7),a()()),r&2){let e=i.$implicit,l=F(2);o(2),A("height",l.getBarHeight(e.predictedYield)),o(3),s(e.predictedYield),o(2),s(e.day)}}function N(r,i){if(r&1&&(t(0,"div",4)(1,"div",11)(2,"h2",12),n(3,"7-Day Egg Yield Forecast"),a(),t(4,"p",13),n(5,"Projected daily egg production based on current flock data and weather patterns."),a(),t(6,"div",14),D(7,j,8,4,"div",15,H),a()(),t(9,"div",0)(10,"div",16)(11,"h2",12),n(12,"Feed Efficiency Score"),a(),t(13,"div",17)(14,"div",18),p(),t(15,"svg",19),x(16,"path",20)(17,"path",21),a(),g(),t(18,"div",22)(19,"span",23),n(20),t(21,"span",24),n(22,"%"),a()()()()(),t(23,"p",25),n(24,"This score reflects how effectively your flock is converting feed into eggs. Higher is better!"),a()(),t(25,"div",16)(26,"h2",12),n(27,"Mortality Risk Alert"),a(),t(28,"div",26)(29,"span",27),n(30),a()(),t(31,"p",28),n(32),a()()()()),r&2){let e=i;o(7),M(e.eggYieldForecast),o(10),S("stroke-dasharray",e.feedEfficiencyScore+", 100"),o(3),s(e.feedEfficiencyScore),o(9),Y("bg-green-100",e.mortalityRisk.level==="Low")("text-green-800",e.mortalityRisk.level==="Low")("bg-yellow-100",e.mortalityRisk.level==="Medium")("text-yellow-800",e.mortalityRisk.level==="Medium")("bg-red-100",e.mortalityRisk.level==="High")("text-red-800",e.mortalityRisk.level==="High"),o(),I(" ",e.mortalityRisk.level," Risk "),o(2),s(e.mortalityRisk.reason)}}function z(r,i){r&1&&(t(0,"div",5)(1,"h3",34),n(2,"Could Not Load Analytics"),a(),t(3,"p",35),n(4,"There was an issue retrieving the analytics data. Please try again later."),a()())}var m=class m{constructor(){this.analyticsService=b(c);this.isLoading=f(!0);this.analyticsData=f(null);this.maxPredictedYield=_(()=>{let i=this.analyticsData();return!i||!i.eggYieldForecast||i.eggYieldForecast.length===0?0:Math.max(...i.eggYieldForecast.map(e=>e.predictedYield))})}ngOnInit(){this.analyticsService.getAnalytics().pipe(v(()=>this.isLoading.set(!1))).subscribe(i=>{this.analyticsData.set(i)})}getBarHeight(i){let e=this.maxPredictedYield();return e===0?"0%":`${i/e*100}%`}};m.\u0275fac=function(e){return new(e||m)},m.\u0275cmp=w({type:m,selectors:[["app-analytics"]],decls:9,vars:1,consts:[[1,"space-y-8"],[1,"text-3xl","font-bold","text-gray-800"],[1,"mt-1","text-gray-600"],[1,"flex","justify-center","items-center","p-16","bg-white","rounded-lg","shadow-md"],[1,"grid","grid-cols-1","gap-8","lg:grid-cols-3"],[1,"text-center","py-10","bg-white","rounded-lg","shadow-md"],[1,"text-center","text-gray-500"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","mx-auto","h-8","w-8","text-brand-purple"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"mt-4","text-lg"],[1,"p-6","bg-white","rounded-lg","shadow-md","lg:col-span-2"],[1,"text-xl","font-bold","text-gray-800"],[1,"mt-1","text-sm","text-gray-500"],[1,"mt-6","h-64","flex","items-end","justify-between","space-x-4"],[1,"flex-1","flex","flex-col","items-center"],[1,"p-6","bg-white","rounded-lg","shadow-md"],[1,"flex","items-center","justify-center","my-4"],[1,"relative","w-32","h-32"],["viewBox","0 0 36 36",1,"w-full","h-full"],["d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831","fill","none","stroke","currentColor","stroke-width","3",1,"text-gray-200"],["stroke-linecap","round","d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831","fill","none","stroke","currentColor","stroke-width","3",1,"text-green-500"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"text-3xl","font-bold","text-brand-purple"],[1,"text-xl"],[1,"text-sm","text-center","text-gray-600"],[1,"mt-4","text-center"],[1,"px-4","py-2","text-lg","font-bold","rounded-full"],[1,"mt-4","text-sm","text-gray-600"],[1,"w-full","h-full","flex","items-end"],[1,"w-full","bg-purple-200","rounded-t-md","hover:bg-brand-purple","transition-colors"],[1,"relative","h-full"],[1,"absolute","-top-6","left-1/2","-translate-x-1/2","text-sm","font-semibold","text-brand-purple"],[1,"mt-2","text-xs","font-medium","text-gray-600"],[1,"text-lg","font-semibold","text-gray-700"],[1,"mt-1","text-gray-500"]],template:function(e,l){if(e&1&&(t(0,"div",0)(1,"div")(2,"h1",1),n(3,"Your Farm's AI Insights"),a(),t(4,"p",2),n(5," Powered by our analytics engine, here are predictive insights to help you make proactive decisions for your farm. "),a()(),k(6,P,7,0,"div",3)(7,N,33,16,"div",4)(8,z,5,0,"div",5),a()),e&2){let y;o(6),C(l.isLoading()?6:(y=l.analyticsData())?7:8,y)}},dependencies:[R],encapsulation:2,changeDetection:0});var T=m;export{T as AnalyticsComponent};
