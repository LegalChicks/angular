import{d as g}from"./chunk-2XNMIXXB.js";import{O as u,S as d,a as c,fa as m}from"./chunk-U6YQNLS5.js";var r=[{id:"1",name:"Admin User",email:"admin@legalchicks.vip",role:"admin",visibility:"public"},{id:"2",name:"Alice Johnson",email:"alice.j@example.com",role:"member",visibility:"public"},{id:"3",name:"Brenda Smith",email:"brenda.s@example.com",role:"member",visibility:"public"},{id:"4",name:"Carla Davis",email:"carla.d@example.com",role:"member",visibility:"private"},{id:"5",name:"Diana Miller",email:"diana.m@example.com",role:"member",visibility:"public"},{id:"6",name:"Eva Wilson",email:"eva.w@example.com",role:"member",visibility:"private"}],a=class a{constructor(e){this.router=e;this.isAuthenticated=m(!1);this.currentUser=m(null)}checkAuthStatus(){let e=localStorage.getItem("authToken"),s=localStorage.getItem("currentUser");e&&s?(this.isAuthenticated.set(!0),this.currentUser.set(JSON.parse(s))):(this.isAuthenticated.set(!1),this.currentUser.set(null))}async login(e,s){return new Promise(n=>{setTimeout(()=>{if(e==="admin@legalchicks.vip"&&s==="admin"){let i=r.find(t=>t.email===e);if(!i){n({success:!1,message:"Invalid credentials. Please try again."});return}let o=`mock-jwt-token-for-${i.id}`;localStorage.setItem("authToken",o),localStorage.setItem("currentUser",JSON.stringify(i)),this.isAuthenticated.set(!0),this.currentUser.set(i),this.router.navigate(["/dashboard"]),n({success:!0,message:"Login successful!"})}else n({success:!1,message:"Invalid credentials. Please try again."})},1e3)})}logout(){localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),this.isAuthenticated.set(!1),this.currentUser.set(null),this.router.navigate(["/login"])}async register(e,s,n){return new Promise(i=>{setTimeout(()=>{if(r.some(l=>l.email===s)){i({success:!1,message:"An account with this email already exists."});return}let t={id:String(r.length+1),name:e,email:s,role:"member",visibility:"private"};r.push(t),i({success:!0,message:"Registration successful! Please check your email for a verification link."})},1e3)})}async getMembers(){return new Promise(e=>{setTimeout(()=>e(r),500)})}async updateProfile(e,s){return new Promise((n,i)=>{setTimeout(()=>{let o=r.findIndex(l=>l.id===e);if(o===-1)return i(new Error("User not found"));let t=c(c({},r[o]),s);r[o]=t,this.currentUser()?.id===e&&(this.currentUser.set(t),localStorage.setItem("currentUser",JSON.stringify(t))),n(t)},500)})}};a.\u0275fac=function(s){return new(s||a)(d(g))},a.\u0275prov=u({token:a,factory:a.\u0275fac,providedIn:"root"});var f=a;export{f as a};
